<script setup lang="ts">
  import { defineProps } from 'vue';

  export interface ResearchCard {
    title: string,
    type: string,
    date: string,
    image: string,
    description: string,
    author: string,
    conference: string,
    repository?: string,
    laboratory?: string,
  }
  const rcard = defineProps<ResearchCard>();
</script>

<template>
  <v-card
    shaped class="mx-auto"
    width="1000" max-height="300"
  >
    <div class="d-flex flex-no-wrap justify-space-between">
      <div class="card-thumbnail d-flex align-center justify-center">
        <v-img
          :src="rcard.image"
          gradient="to bottom, rgba(0,0,0,.1), rgba(0,0,0,.3)"
          width="300px"
          class="my-auto"
        />
      </div>
      <div>
        <v-card-title class="card-title japanese-title-font">{{ rcard.title }}</v-card-title>
        <v-card-text class="card-description japanese-text-font">
          {{rcard.description}}
        </v-card-text>
        <v-col class="ml-3 mb-2">
          <v-row>
            <v-icon icon="mdi-account-circle" class="icon mr-1" />
            <p class="element-title english-font">{{ rcard.author }}</p>
          </v-row>
          <v-row>
            <v-icon icon="mdi-book" class="icon mr-1" />
            <p class="element-title english-font">{{ rcard.conference }}</p>
          </v-row>
        </v-col>
        <div v-if="rcard.repository || rcard.laboratory">
          <v-divider></v-divider>
          <v-card-actions class="card-actions">
            <!-- 論文のカード -->
            <v-row justify="end" class="ma-0">
              <v-btn
                v-if="rcard.repository"
                prepend-icon="mdi-link-variant"
                :href="rcard.repository"
                class="japanese-text-font"
              >
                論文レポジトリ
              </v-btn>
              <v-btn
                v-if="rcard.laboratory"
                prepend-icon="mdi-link-variant"
                :href="rcard.laboratory"
                class="japanese-text-font"
              >
                発表報告
              </v-btn>
            </v-row>
          </v-card-actions>
        </div>
      </div>
    </div>
  </v-card>
</template>

<style scoped>
.card-thumbnail {
  width: 300px;
  max-height: 300px;
  background: linear-gradient(to bottom, rgba(0,0,0,.1), rgba(0,0,0,.3));
}
.card-title {
  text-align: left;
  white-space: normal !important; /* テキストを折り返し */
  overflow: visible !important; /* コンテンツがオーバーフローしても表示 */
  text-overflow: clip !important; /* テキストの省略を防ぐ */
}

.card-description {
  text-align: left;
}
</style>